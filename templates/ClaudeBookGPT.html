<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Book a Table | RESERVV</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #2c3e50;
      --secondary: #e74c3c;
      --accent: #27ae60;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
    }

    body {
      background-color: #f9f9f9;
      font-family: 'Montserrat', sans-serif;
      color: var(--dark);
    }

    h1, h2, h3, h4 {
      font-family: 'Playfair Display', serif;
    }

    /* Navbar */
        .navbar {
            background-color: #d24b62;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 12px 0;
        }
        .navbar-brand {
            font-size: 28px;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        .V {
            color: #6eceae;
            font-weight: 900;
        }
        .nav-link {
            font-weight: 600;
            padding: 8px 16px !important;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .nav-link:hover {
            background-color: rgba(255,255,255,0.2);
        }
        .nav-btn {
            background-color: white;
            color: #d24b62 !important;
            padding: 8px 16px;
            border-radius: 4px;
            font-weight: 600;
            margin-left: 8px;
        }
        .nav-btn:hover {
            background-color: #f8f9fa;
            transform: translateY(-2px);
        }

    .restaurant-banner {
      height: 500px;
      background-size: cover;
      background-position: center;
      position: relative;
      display: flex;
      align-items: flex-end;
      color: white;
    }

    .restaurant-banner::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.7));
    }

    .restaurant-info {
      position: relative;
      padding: 30px;
      border-radius: 8px;
      margin-bottom: 30px;
      max-width: 600px;
    }

    .restaurant-info h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 15px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    }

    .restaurant-info p {
      font-size: 1.2rem;
      margin-bottom: 5px;
      display: flex;
      align-items: center;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.6);
    }

    .restaurant-info p i {
      margin-right: 10px;
      color: var(--accent);
    }

    .booking-section {
      padding: 60px 0;
      background-color: var(--light);
    }

    .booking-form {
      background-color: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.1);
    }

    .booking-form h2 {
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 30px;
      position: relative;
      padding-bottom: 15px;
    }

    .booking-form h2::after {
      content: '';
      position: absolute;
      width: 60px;
      height: 3px;
      background-color: var(--secondary);
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .form-label {
      font-weight: 500;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .form-control, .form-select {
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #dee2e6;
      font-size: 1rem;
    }

    .form-control:focus, .form-select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 0.25rem rgba(39, 174, 96, 0.25);
    }

    .btn-primary {
      background-color: var(--secondary);
      border-color: var(--secondary);
      padding: 12px 30px;
      font-weight: 600;
      letter-spacing: 1px;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      background-color: #c0392b;
      border-color: #c0392b;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
    }

    .form-icon {
      position: relative;
    }

    .form-icon i {
      position: absolute;
      top: 50%;
      left: 15px;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .form-icon .form-control,
    .form-icon .form-select {
      padding-left: 45px;
    }

    .datepicker {
      border-radius: 8px;
    }

    .datepicker table tr td.active.active {
      background-color: var(--accent) !important;
    }

    footer {
      background-color: #d24b62
      color: white;
      padding: 60px 0 30px;
    }

    .social-links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background-color: rgba(255,255,255,0.1);
      border-radius: 50%;
      margin: 0 5px;
      color: white;
      transition: all 0.3s ease;
    }

    .social-links a:hover {
      background-color: var(--accent);
      transform: translateY(-3px);
    }

    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-links li {
      margin-bottom: 10px;
    }

    .footer-links a {
      color: #ddd;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .footer-links a:hover {
      color: var(--accent);
      padding-left: 5px;
    }

    .copyright {
      border-top: 1px solid rgba(255,255,255,0.1);
      padding-top: 20px;
      margin-top: 30px;
    }

    /* Animation */
    .fade-in {
      animation: fadeIn 1s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

 <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark sticky-top">
  <div class="container">
    <a class="navbar-brand" href="/">RESERV<span class="V">V</span></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/restaurants">Restaurants</a></li>
        <li class="nav-item"><a class="nav-link" href="/aboutUs">About Us</a></li>
        {% if current_user.is_authenticated %}
          <li class="nav-item"><a class="nav-link nav-btn" href="/auth/logout">Logout</a></li>
        {% else %}
          <li class="nav-item"><a class="nav-link nav-btn" href="/auth/login">Login / Register</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>


  <!-- Hero Banner -->
  <div class="restaurant-banner" id="restaurantBanner">
    <div class="container pb-4">
      <div class="row">
        <div class="col-lg-8">
          <div class="restaurant-info fade-in">
            <h1 id="restaurantName">Restaurant Name</h1>
            <p><i class="bi bi-geo-alt-fill"></i> <span id="restaurantLocation">Location</span></p>
            <p><i class="bi bi-egg-fried"></i> <span id="restaurantCuisine">Cuisine</span></p>
            <div class="mt-4">
              <span class="badge bg-light text-dark me-2 p-2"><i class="bi bi-star-fill text-warning me-1"></i> 4.8/5</span>
              <span class="badge bg-light text-dark p-2"><i class="bi bi-currency-dollar text-secondary me-1"></i> Premium</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Booking Form -->
  <section class="booking-section">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="booking-form fade-in">
            <h2 class="text-center">Book a Table</h2>
            <form action="" method="POST" id="reservationForm">
              <div class="row">
                <div class="col-md-6 mb-4">
                  <label for="datePicker" class="form-label">Select Date</label>
                  <div class="form-icon">
                    <i class="bi bi-calendar3"></i>
                    <input type="text" class="form-control" id="datePicker" name="date" required autocomplete="off" placeholder="Choose your date">
                  </div>
                </div>
                <div class="col-md-6 mb-4">
                  <label for="timeSelect" class="form-label">Select Time</label>
                  <div class="form-icon">
                    <i class="bi bi-clock"></i>
                    <select class="form-select" id="timeSelect" name="time" required>
                      <option value="" disabled selected>Choose a time</option>
                      <option value="17:00">5:00 PM</option>
                      <option value="17:30">5:30 PM</option>
                      <option value="18:00">6:00 PM</option>
                      <option value="18:30">6:30 PM</option>
                      <option value="19:00">7:00 PM</option>
                      <option value="19:30">7:30 PM</option>
                      <option value="20:00">8:00 PM</option>
                      <option value="20:30">8:30 PM</option>
                      <option value="21:00">9:00 PM</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="mb-4">
                <label for="guestsSelect" class="form-label">Number of Guests</label>
                <div class="form-icon">
                  <i class="bi bi-people"></i>
                  <select class="form-select" id="guestsSelect" name="guest_count" required>
                    <option value="" disabled selected>Select number of guests</option>
                    {% for i in range(1, 11) %}
                      <option value="{{ i }}">{{ i }}</option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              <div class="mb-4">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="specialRequest">
                  <label class="form-check-label" for="specialRequest">
                    I have special requests
                  </label>
                </div>
              </div>
              <div class="specialRequestsInput d-none mb-4">
                <label for="specialRequestsText" class="form-label">Special Requests</label>
                <textarea class="form-control" id="specialRequestsText" rows="3" placeholder="Special seating, dietary requirements, etc."></textarea>
                <div class="form-text">We'll do our best to accommodate your requests.</div>
              </div>
              <div class="d-grid mt-4">
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="bi bi-calendar-check me-2"></i>Confirm Reservation
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-4 mb-4">
          <h4 class="mb-4">RESERV<span style="color: var(--accent)">V</span></h4>
          <p class="mb-3">The easiest way to discover and book tables at the best restaurants in town.</p>
          <div class="social-links mt-3">
            <a href="#"><i class="bi bi-facebook"></i></a>
            <a href="#"><i class="bi bi-instagram"></i></a>
            <a href="#"><i class="bi bi-twitter"></i></a>
            <a href="#"><i class="bi bi-linkedin"></i></a>
          </div>
        </div>
        <div class="col-lg-2 col-md-6 mb-4">
          <h5 class="mb-3">Quick Links</h5>
          <ul class="footer-links">
            <li><a href="/restaurants">Restaurants</a></li>
            <li><a href="/reservations">My Reservations</a></li>
            <li><a href="/help">Help Center</a></li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
          <h5 class="mb-3">Contact Us</h5>
          <ul class="footer-links">
            <li><i class="bi bi-envelope me-2"></i> info@reservv.com</li>
            <li><i class="bi bi-telephone me-2"></i> (555) 123-4567</li>
            <li><i class="bi bi-geo-alt me-2"></i> 123 Main St, Suite 200</li>
          </ul>
        </div>
        <div class="col-lg-3 col-md-6">


          <div class="input-group mb-3">

            <button class="btn btn-outline-light" type="button">Subscribe</button>
          </div>
        </div>
      </div>
      <div class="text-center copyright">
        <p>&copy; 2025 RESERVV. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
  <script>
    $(document).ready(function() {
      // Initialize datepicker
      $('#datePicker').datepicker({
        format: 'yyyy-mm-dd',
        startDate: new Date(),
        autoclose: true
      });

      // Toggle special requests textarea
      $('#specialRequest').change(function() {
        if($(this).is(':checked')) {
          $('.specialRequestsInput').removeClass('d-none');
        } else {
          $('.specialRequestsInput').addClass('d-none');
        }
      });

      // Fetch restaurant details
      const urlParams = new URLSearchParams(window.location.search);
      const restaurantId = urlParams.get('id');
      if (!restaurantId) {
        alert('No restaurant selected.');
        window.location.href = '/restaurants';
        return;
      }

      fetch(`/api/restaurant/${restaurantId}`)
        .then(response => response.json())
        .then(data => {
          if (data.status === 'success') {
            $('#restaurantName').text(data.restaurant.name);
            $('#restaurantLocation').text(data.restaurant.location);
            $('#restaurantCuisine').text(data.restaurant.cuisine);
            $('#restaurantBanner').css('background-image', `url(${data.restaurant.image})`);

            $('#reservationForm').attr('action', `/reserve/${restaurantId}`);
          } else {
            alert('Restaurant not found.');
            window.location.href = '/restaurants';
          }
        });
    });
  </script>
</body>
</html>